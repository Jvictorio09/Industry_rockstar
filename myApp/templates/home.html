{% extends "base.html" %}
{% block title %}Katalyst | Payments{% endblock %}

{% block content %}
<section class="bg-gradient-to-r from-[#0a0f2c] to-[#7b2cbf] text-white">
  <div class="max-w-5xl mx-auto px-6 py-20 text-center space-y-10">
    
    <!-- Main company logo -->
    <div class="flex justify-center mb-6">
      <img src="https://katalyst-crm.com/wp-content/uploads/2024/09/K-1.png" 
           alt="Katalyst" class="h-16">
    </div>

    <h1 class="text-4xl sm:text-5xl font-bold leading-tight">
      Fast, secure payments for <span class="text-pink-500">Katalyst</span>
    </h1>
    <p class="text-lg text-gray-200 max-w-2xl mx-auto">
      A simple portal for donations and program payments—clean, secure, and Stripe-powered.
    </p>

    <!-- Donate block -->
    <div class="bg-white text-[#0a0f2c] border rounded-2xl shadow-lg p-8 flex flex-col items-center gap-6 max-w-md mx-auto">
      <img src="https://cdn.firespring.com/images/0b974cf8-0458-4725-9471-35159151de5e.png" 
           alt="Solutions for Change" class="h-14">
      
      <a href="{% url 'donation_widget' %}"
         class="inline-flex items-center gap-2 bg-[#0a0f2c] text-white px-6 py-3 rounded-xl hover:bg-[#151c40] shadow">
        Donate to Solutions for Change
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M13 7l5 5m0 0l-5 5m5-5H6"/>
        </svg>
      </a>
    </div>

    <iframe id="donateFrame"
  src="https://industryrockstar-production.up.railway.app/donate/widget/"
  style="width:95%; border:0; overflow:hidden; height:900px"
  frameborder="0" scrolling="no"></iframe>

<script>
  (function(){
    const frame = document.getElementById("donateFrame");
    const relaxForDev = location.hostname === "localhost" || location.hostname === "127.0.0.1";
    const ALLOW = ["https://industryrockstar-production.up.railway.app"];

    window.addEventListener("message", (e) => {
      if (!relaxForDev && !ALLOW.includes(e.origin)) return;
      const d = e.data || {};
      if (d.type === "donate-widget-height" && Number(d.height) > 0) {
        frame.style.height = Math.ceil(Number(d.height)) + "px";
      }
    }, false);
  })();
</script>




    <!-- Footer note -->
    <div class="flex justify-center gap-3 text-sm text-gray-200">
      <span>Secured by Stripe</span>
      <span aria-hidden="true">•</span>
      <a href="https://katalyst-crm.com/" target="_blank" class="hover:text-pink-400">https://katalyst-crm.com/</a>
    </div>
  </div>
</section>


{% endblock %}
